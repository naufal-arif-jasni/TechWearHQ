<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechWear HQ Analytics Dashboard - IMS566</title>
    <!-- Bootstrap 5 CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <!-- Chart.js CDN (Uses canvas for rendering) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
    <style>
        /* General body and font style */
        body {
            background-color: #f0f2f5;
            font-family: 'Inter', sans-serif;
        }

        /* Sidebar Styling (Navigation Menu) */
        .sidebar {
            width: 250px;
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            background-color: #1f2937; /* Darker background */
            color: white;
            padding-top: 60px; /* Offset for fixed navbar */
            overflow-y: auto;
            border-right: 1px solid #374151;
            transition: all 0.3s;
        }
        .sidebar a {
            padding: 15px 25px;
            text-decoration: none;
            font-size: 16px;
            color: #d1d5db;
            display: block;
            border-radius: 8px;
            margin: 5px 10px;
        }
        .sidebar a:hover {
            background-color: #374151;
            color: #ffffff;
        }
        .sidebar a.active {
            background-color: #0d6efd; /* Primary blue for active link */
            color: #ffffff;
            font-weight: 600;
        }
        .sidebar .company-title {
            padding: 15px 20px;
            font-size: 1.5rem;
            font-weight: bold;
            color: #ffffff;
            border-bottom: 1px solid #374151;
            position: absolute;
            top: 0;
            width: 100%;
            background-color: #1f2937;
        }

        /* Main Content Area */
        .main-content {
            margin-left: 250px;
            padding: 20px;
            transition: margin-left 0.3s;
        }
        
        /* Dashboard KPI Card Styling */
        .kpi-card {
            border: none;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s;
        }
        .kpi-card:hover {
            transform: translateY(-2px);
        }

        /* Login Page Styling */
        #login-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #0d6efd 0%, #0056b3 100%);
        }
        .login-box {
            background: white;
            padding: 45px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            width: 100%;
            max-width: 400px;
        }

        /* Responsive adjustments */
        @media (max-width: 992px) {
            .sidebar {
                width: 70px; /* Collapse sidebar on small screens */
            }
            .sidebar .nav-text {
                display: none;
            }
            .sidebar .company-title {
                display: none;
            }
            .sidebar i {
                font-size: 1.5rem;
            }
            .sidebar a {
                text-align: center;
            }
            .main-content {
                margin-left: 70px;
            }
        }
        @media (max-width: 768px) {
            .sidebar {
                position: relative;
                width: 100%;
                height: auto;
                padding-top: 0;
                display: flex;
                flex-direction: row;
                overflow-x: auto;
                border-right: none;
                border-bottom: 1px solid #374151;
            }
            .sidebar a {
                flex-shrink: 0;
                margin: 0;
                border-radius: 0;
                padding: 10px 15px;
            }
            .sidebar .nav-text {
                display: block;
                font-size: 0.75rem;
            }
            .main-content {
                margin-left: 0;
                padding-top: 20px;
            }
            #dashboard-wrapper .navbar {
                display: none; /* Hide top bar when sidebar is mobile-friendly */
            }
        }
    </style>
</head>
<body>

<!-- ========================================================================= -->
<!-- 1. AUTHENTICATION PAGE (LOGIN PORTAL) -->
<!-- ========================================================================= -->
<div id="login-container">
    <div class="login-box">
        <h2 class="text-center mb-4 text-primary">TechWear HQ</h2>
        <h5 class="text-center text-muted mb-4">Analytics Login</h5>
        <form id="loginForm">
            <div class="mb-3">
                <label for="username" class="form-label fw-bold">Username</label>
                <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-user"></i></span>
                    <input type="text" class="form-control" id="username" value="admin" required>
                </div>
            </div>
            <div class="mb-4">
                <label for="password" class="form-label fw-bold">Password</label>
                <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-lock"></i></span>
                    <input type="password" class="form-control" id="password" value="ims566" required>
                </div>
            </div>
            <div id="loginAlert" class="alert alert-danger d-none text-center" role="alert">
                <i class="fas fa-exclamation-triangle"></i> Invalid Username or Password.
            </div>
            <button type="submit" class="btn btn-primary w-100 py-2 shadow-sm">Login to Dashboard</button>
            <p class="mt-4 text-center text-muted small">
                <i class="fas fa-info-circle"></i> Use **admin** / **ims566** to proceed.
            </p>
        </form>
    </div>
</div>

<!-- ========================================================================= -->
<!-- 2. MAIN DASHBOARD WRAPPER (HIDDEN UNTIL LOGIN) -->
<!-- ========================================================================= -->
<div id="dashboard-wrapper" class="d-none">

    <!-- Sidebar (Navigation Menu) -->
    <div class="sidebar d-flex flex-column">
        <div class="company-title">
             <i class="fas fa-chart-bar me-2"></i>TechWear HQ
        </div>
        <a href="#" class="nav-link active" data-page="dashboard" onclick="showPage('dashboard')">
            <i class="fas fa-tachometer-alt fa-fw me-2"></i> <span class="nav-text">Dashboard</span>
        </a>
        <a href="#" class="nav-link" data-page="products" onclick="showPage('products')">
            <i class="fas fa-box-open fa-fw me-2"></i> <span class="nav-text">Product Catalog</span>
        </a>
        <a href="#" class="nav-link" data-page="orders" onclick="showPage('orders')">
            <i class="fas fa-receipt fa-fw me-2"></i> <span class="nav-text">Order History</span>
        </a>
        <a href="#" class="nav-link" data-page="customers" onclick="showPage('customers')">
            <i class="fas fa-users fa-fw me-2"></i> <span class="nav-text">Customer List</span>
        </a>
        <a href="#" class="nav-link" data-page="inventory" onclick="showPage('inventory')">
            <i class="fas fa-warehouse fa-fw me-2"></i> <span class="nav-text">Inventory & Stock</span>
        </a>
        <a href="#" class="nav-link" data-page="vendors" onclick="showPage('vendors')">
            <i class="fas fa-industry fa-fw me-2"></i> <span class="nav-text">Vendor List</span>
        </a>
        <div class="mt-auto p-3 border-top border-secondary mx-3">
            <button class="btn btn-outline-light w-100 btn-sm" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i> Logout
            </button>
        </div>
    </div>

    <!-- Main Content Area -->
    <div class="main-content">
        <div class="pt-4">
            

            <div id="dashboard" class="page-content">
                <h1 class="mb-4 text-dark">Performance Hub</h1>
                <p class="text-muted mb-4">Key Performance Indicators and Trend Analysis.</p>

                <!-- KPI CARDS -->
                <div class="row mb-5">
                    <div class="col-lg-3 col-md-6 mb-3">
                        <div class="card p-3 kpi-card bg-white text-dark shadow">
                            <div class="text-muted small fw-semibold">TOTAL REVENUE</div>
                            <h3 class="mb-0 text-success" id="kpi-revenue"><i class="fas fa-dollar-sign me-1"></i> RM 0.00</h3>
                            <span class="badge bg-success-subtle text-success mt-1">+12.5% YoY</span>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 mb-3">
                        <div class="card p-3 kpi-card bg-white text-dark shadow">
                            <div class="text-muted small fw-semibold">TOTAL ORDERS</div>
                            <h3 class="mb-0 text-primary" id="kpi-orders"><i class="fas fa-shopping-cart me-1"></i> 0</h3>
                            <span class="badge bg-primary-subtle text-primary mt-1">+8.1% YoY</span>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 mb-3">
                        <div class="card p-3 kpi-card bg-white text-dark shadow">
                            <div class="text-muted small fw-semibold">AVG. ORDER VALUE (AOV)</div>
                            <h3 class="mb-0 text-info" id="kpi-aov"><i class="fas fa-hand-holding-usd me-1"></i> RM 0.00</h3>
                            <span class="badge bg-info-subtle text-info mt-1">+4.0% YoY</span>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 mb-3">
                        <div class="card p-3 kpi-card bg-white text-dark shadow">
                            <div class="text-muted small fw-semibold">LOW STOCK ITEMS</div>
                            <h3 class="mb-0 text-danger" id="kpi-low-stock"><i class="fas fa-exclamation-circle me-1"></i> 2</h3>
                            <span class="badge bg-danger-subtle text-danger mt-1">Immediate Attention</span>
                        </div>
                    </div>
                </div>

                <!-- CHARTS (Data Visualisation Component) -->
                <div class="row">
                    <!-- Monthly Revenue Trend (Line Chart) -->
                    <div class="col-lg-7 mb-4">
                        <div class="card p-4 shadow-sm h-100">
                            <h5 class="card-title text-dark">Monthly Revenue Trend (RM)</h5>
                            <!-- Canvas element for Chart.js -->
                            <div class="p-2"><canvas id="revenueChart"></canvas></div>
                        </div>
                    </div>
                    <!-- Sales by Category (Pie Chart) -->
                    <div class="col-lg-5 mb-4">
                        <div class="card p-4 shadow-sm h-100">
                            <h5 class="card-title text-dark">Sales by Product Category</h5>
                            <!-- Canvas element for Chart.js -->
                            <div class="p-2"><canvas id="categoryChart"></canvas></div>
                        </div>
                    </div>
                </div>

            </div>
            
            <!-- ========================================================================= -->
            <!-- 4. DATA VIEW PAGES (5 PAGES) -->
            <!-- ========================================================================= -->

            <!-- Data View 1: Product Catalog -->
            <div id="products" class="page-content d-none">
                <h2 class="mb-3"><i class="fas fa-box-open me-2"></i> Product Catalog</h2>
                <p class="text-muted">Detailed view of all inventory items, pricing, and status.</p>
                <hr>
                <div class="card shadow-sm p-3">
                    <div class="table-responsive">
                        <table class="table table-striped table-hover align-middle">
                            <thead class="table-light">
                                <tr><th>Product Name</th><th>SKU</th><th>Category</th><th>Price</th><th>Status</th></tr>
                            </thead>
                            <tbody id="productsTableBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Data View 2: Order History -->
            <div id="orders" class="page-content d-none">
                <h2 class="mb-3"><i class="fas fa-receipt me-2"></i> Order History</h2>
                <p class="text-muted">Complete record of customer purchases and fulfillment status.</p>
                <hr>
                <div class="card shadow-sm p-3">
                    <div class="table-responsive">
                        <table class="table table-striped table-hover align-middle">
                            <thead class="table-light">
                                <tr><th>Order ID</th><th>Customer</th><th>Date</th><th>Amount</th><th>Status</th></tr>
                            </thead>
                            <tbody id="ordersTableBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- Data View 3: Customer List -->
            <div id="customers" class="page-content d-none">
                <h2 class="mb-3"><i class="fas fa-users me-2"></i> Customer List</h2>
                <p class="text-muted">Registered user base with lifetime value metrics.</p>
                <hr>
                <div class="card shadow-sm p-3">
                    <div class="table-responsive">
                        <table class="table table-striped table-hover align-middle">
                            <thead class="table-light">
                                <tr><th>Customer Name</th><th>Email</th><th>Reg. Date</th><th>Lifetime Value (LTV)</th></tr>
                            </thead>
                            <tbody id="customersTableBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- Data View 4: Inventory & Stock -->
            <div id="inventory" class="page-content d-none">
                <h2 class="mb-3 text-danger"><i class="fas fa-warehouse me-2"></i> Inventory & Stock</h2>
                <p class="text-danger">Highlighted items below their reorder point requiring urgent attention.</p>
                <hr>
                <div class="card shadow-sm p-3">
                    <div class="table-responsive">
                        <table class="table table-striped table-hover align-middle">
                            <thead class="table-light">
                                <tr><th>Product Name</th><th>Current Stock</th><th>Reorder Point</th><th>Warehouse</th></tr>
                            </thead>
                            <tbody id="inventoryTableBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- Data View 5: Vendor/Supplier List -->
            <div id="vendors" class="page-content d-none">
                <h2 class="mb-3"><i class="fas fa-industry me-2"></i> Vendor/Supplier List</h2>
                <p class="text-muted">Key partners for component sourcing and manufacturing.</p>
                <hr>
                <div class="card shadow-sm p-3">
                    <div class="table-responsive">
                        <table class="table table-striped table-hover align-middle">
                            <thead class="table-light">
                                <tr><th>Vendor Name</th><th>Contact Person</th><th>Products Supplied</th><th>Last Shipment</th></tr>
                            </thead>
                            <tbody id="vendorsTableBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Footer (Consistent on all pages via the content structure) -->
            <footer class="mt-5 pt-3 border-top text-center text-muted small">
                &copy; 2024 TechWear Solutions. IMS566 Advanced Web Design Development and Content Management.
            </footer>

        </div>
    </div>
</div>


<script>
    // --- DUMMY DATA DEFINITION ---
    const DUMMY_DATA = {
        login: {
            username: "admin",
            password: "ims566"
        },
        kpis: {
            revenue: 'RM 245,300.00',
            orders: '1,560',
            aov: 'RM 157.24',
            lowStock: 2 // Count of items below reorder point
        },
        // Data for Monthly Revenue Trend Line Chart
        revenueData: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
            // Mock data in RM (multiplied by 100 for better chart scale)
            values: [180, 220, 195, 250, 280, 240, 210, 290, 265, 310, 330, 380].map(v => v * 100), 
        },
        // Data for Sales by Category Pie Chart
        categoryData: {
            labels: ['Smart Watches', 'Fitness Trackers', 'Accessories'],
            values: [120000, 80000, 45300], // Mock data in RM
            colors: ['#0d6efd', '#198754', '#ffc107']
        },
        // Data for Data View Pages (Minimum 5 Data Views)
        products: [
            { name: 'Aura Fit 5', sku: 'TW-FIT05', category: 'Fitness Tracker', price: 99.00, status: 'In Stock' },
            { name: 'Spectra Watch Pro', sku: 'TW-WCH01', category: 'Smart Watch', price: 299.00, status: 'Low Stock' },
            { name: 'Velocity Band 2.0', sku: 'TW-FIT02', category: 'Fitness Tracker', price: 79.50, status: 'In Stock' },
            { name: 'Titan Watch Ultra', sku: 'TW-WCH03', category: 'Smart Watch', price: 450.00, status: 'Out of Stock' },
            { name: 'Magnetic Charge Cable', sku: 'TW-ACC05', category: 'Accessory', price: 25.00, status: 'In Stock' },
        ],
        orders: [
            { id: 'ORD8501', customer: 'Ahmad B. M.', date: '2024-11-28', amount: 299.00, status: 'Shipped' },
            { id: 'ORD8502', customer: 'Siti K. A.', date: '2024-11-29', amount: 450.00, status: 'Pending' },
            { id: 'ORD8503', customer: 'Michael L.', date: '2024-11-29', amount: 99.00, status: 'Shipped' },
            { id: 'ORD8504', customer: 'Chen Y. M.', date: '2024-11-30', amount: 378.00, status: 'Delivered' },
            { id: 'ORD8505', customer: 'Amira H.', date: '2024-12-01', amount: 25.00, status: 'Processing' },
        ],
        customers: [
            { name: 'Ahmad B. M.', email: 'ahmad@mail.com', regDate: '2023-01-15', ltv: 850.50 },
            { name: 'Siti K. A.', email: 'siti@mail.com', regDate: '2023-05-20', ltv: 1200.00 },
            { name: 'Michael L.', email: 'michael@mail.com', regDate: '2024-02-10', ltv: 99.00 },
            { name: 'Chen Y. M.', email: 'chen@mail.com', regDate: '2023-11-01', ltv: 1560.20 },
            { name: 'Amira H.', email: 'amira@mail.com', regDate: '2024-03-25', ltv: 25.00 },
        ],
        inventory: [
            { name: 'Aura Fit 5', stock: 550, reorder: 150, warehouse: 'Central-A' },
            { name: 'Spectra Watch Pro', stock: 85, reorder: 100, warehouse: 'East-C' },
            { name: 'Velocity Band 2.0', stock: 1200, reorder: 200, warehouse: 'Central-A' },
            { name: 'Titan Watch Ultra', stock: 0, reorder: 50, warehouse: 'East-C' },
            { name: 'Magnetic Charge Cable', stock: 250, reorder: 50, warehouse: 'Central-B' },
        ],
        vendors: [
            { name: 'Global Tech Components', contact: 'Mr. Lee', products: 'Smart Watch Displays', lastShipment: '2024-11-01' },
            { name: 'Sensor Solutions M Sdn Bhd', contact: 'Puan Siti', products: 'Fitness Trackers', lastShipment: '2024-11-15' },
            { name: 'Universal Cable Co.', contact: 'Mr. Tan', products: 'Accessories, Cables', lastShipment: '2024-10-20' },
            { name: 'Strap Design Co.', contact: 'Ms. Amira', products: 'Watch Straps', lastShipment: '2024-12-01' },
        ]
    };

    // --- HELPER FUNCTIONS ---

    // Function to handle page navigation and responsiveness
    function showPage(pageId) {
        // Hide all page contents
        document.querySelectorAll('.page-content').forEach(page => {
            page.classList.add('d-none');
        });
        // Show the requested page
        document.getElementById(pageId).classList.remove('d-none');

        // Update active link in sidebar
        document.querySelectorAll('.sidebar a').forEach(link => {
            link.classList.remove('active');
        });
        document.querySelector(`.sidebar a[data-page="${pageId}"]`).classList.add('active');
        
        // Re-render charts on dashboard view
        if (pageId === 'dashboard') {
            renderCharts();
        }
    }

    // Function to render the Chart.js visualisations
    function renderCharts() {
        // 1. Monthly Revenue Trend (Line Chart)
        const revenueCtx = document.getElementById('revenueChart').getContext('2d');
        if (window.revenueChartInstance) {
            window.revenueChartInstance.destroy(); // Destroy previous instance
        }
        window.revenueChartInstance = new Chart(revenueCtx, {
            type: 'line',
            data: {
                labels: DUMMY_DATA.revenueData.labels,
                datasets: [{
                    label: 'Revenue (RM)',
                    data: DUMMY_DATA.revenueData.values,
                    borderColor: '#0d6efd',
                    backgroundColor: 'rgba(13, 110, 253, 0.2)',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: { 
                        beginAtZero: false,
                        ticks: {
                            callback: function(value) { return 'RM ' + value.toLocaleString(); }
                        }
                    }
                }
            }
        });

        // 2. Sales by Category (Pie Chart)
        const categoryCtx = document.getElementById('categoryChart').getContext('2d');
        if (window.categoryChartInstance) {
            window.categoryChartInstance.destroy(); // Destroy previous instance
        }
        window.categoryChartInstance = new Chart(categoryCtx, {
            type: 'pie',
            data: {
                labels: DUMMY_DATA.categoryData.labels,
                datasets: [{
                    data: DUMMY_DATA.categoryData.values,
                    backgroundColor: DUMMY_DATA.categoryData.colors,
                    hoverOffset: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: { position: 'bottom' }
                }
            }
        });
    }

    // Function to populate data views with dummy data
    function populateDataViews() {
        // Update Low Stock KPI
        document.getElementById('kpi-low-stock').innerHTML = `<i class="fas fa-exclamation-circle me-1"></i> ${DUMMY_DATA.kpis.lowStock}`;
        
        // --- Products Table ---
        const productsBody = document.getElementById('productsTableBody');
        productsBody.innerHTML = DUMMY_DATA.products.map(p => `
            <tr>
                <td class="fw-semibold">${p.name}</td>
                <td>${p.sku}</td>
                <td><span class="badge rounded-pill bg-secondary">${p.category}</span></td>
                <td>RM ${p.price.toFixed(2)}</td>
                <td><span class="badge bg-${p.status.includes('Stock') && !p.status.includes('Low') ? 'success' : p.status.includes('Low') ? 'warning' : 'danger'}">${p.status}</span></td>
            </tr>
        `).join('');

        // --- Orders Table ---
        const ordersBody = document.getElementById('ordersTableBody');
        ordersBody.innerHTML = DUMMY_DATA.orders.map(o => {
            let statusColor = o.status === 'Shipped' ? 'primary' : o.status === 'Delivered' ? 'success' : o.status === 'Pending' ? 'warning' : 'info';
            return `
                <tr>
                    <td>${o.id}</td>
                    <td>${o.customer}</td>
                    <td>${o.date}</td>
                    <td class="fw-bold">RM ${o.amount.toFixed(2)}</td>
                    <td><span class="badge bg-${statusColor} text-uppercase">${o.status}</span></td>
                </tr>
            `;
        }).join('');
        
        // --- Customers Table ---
        const customersBody = document.getElementById('customersTableBody');
        customersBody.innerHTML = DUMMY_DATA.customers.map(c => `
            <tr>
                <td class="fw-semibold">${c.name}</td>
                <td>${c.email}</td>
                <td>${c.regDate}</td>
                <td class="fw-bold text-primary">RM ${c.ltv.toFixed(2)}</td>
            </tr>
        `).join('');

        // --- Inventory Table (Highlighting low stock) ---
        const inventoryBody = document.getElementById('inventoryTableBody');
        inventoryBody.innerHTML = DUMMY_DATA.inventory.map(i => {
            let rowClass = i.stock < i.reorder ? 'table-danger' : '';
            return `
                <tr class="${rowClass}">
                    <td class="fw-semibold">${i.name}</td>
                    <td class="fw-bold ${i.stock < i.reorder ? 'text-danger' : 'text-success'}">${i.stock} units</td>
                    <td>${i.reorder} units</td>
                    <td>${i.warehouse}</td>
                </tr>
            `;
        }).join('');

        // --- Vendors Table ---
        const vendorsBody = document.getElementById('vendorsTableBody');
        vendorsBody.innerHTML = DUMMY_DATA.vendors.map(v => `
            <tr>
                <td class="fw-semibold">${v.name}</td>
                <td>${v.contact}</td>
                <td>${v.products}</td>
                <td>${v.lastShipment}</td>
            </tr>
        `).join('');
    }

    // --- INITIALIZATION AND EVENT LISTENERS ---
    
    // Login Submission Handler
    document.getElementById('loginForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;
        const alertBox = document.getElementById('loginAlert');

        if (username === DUMMY_DATA.login.username && password === DUMMY_DATA.login.password) {
            alertBox.classList.add('d-none');
            
            // Flow: Hide Login, Show Dashboard
            document.getElementById('login-container').classList.add('d-none');
            document.getElementById('dashboard-wrapper').classList.remove('d-none');

            // Initialize all dashboard components
            initializeDashboard();
            
        } else {
            alertBox.classList.remove('d-none');
        }
    });

    // Logout Function
    function logout() {
        document.getElementById('dashboard-wrapper').classList.add('d-none');
        document.getElementById('login-container').classList.remove('d-none');
        document.getElementById('loginForm').reset();
    }
    
    // Dashboard Setup Function
    function initializeDashboard() {
        // Set KPI card values from dummy data
        document.getElementById('kpi-revenue').innerHTML = `<i class="fas fa-dollar-sign me-1"></i> ${DUMMY_DATA.kpis.revenue}`;
        document.getElementById('kpi-orders').innerHTML = `<i class="fas fa-shopping-cart me-1"></i> ${DUMMY_DATA.kpis.orders}`;
        document.getElementById('kpi-aov').innerHTML = `<i class="fas fa-hand-holding-usd me-1"></i> ${DUMMY_DATA.kpis.aov}`;
        
        // Populate all data views (also updates low stock KPI)
        populateDataViews();
        
        // Render charts for the Dashboard
        renderCharts();

        // Ensure default view is the Dashboard
        showPage('dashboard');
    }

    // Expose functions globally
    window.logout = logout;
    window.showPage = showPage;
</script>

<!-- Bootstrap JS (Optional, but good for interactive components like collapse) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>